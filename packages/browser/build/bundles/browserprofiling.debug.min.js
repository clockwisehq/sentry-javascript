/*! @sentry/browser 7.119.2 (9211bd475) | https://github.com/getsentry/sentry-javascript */
!function(t){var n={};const e=Object.prototype.toString;function i(t){return function(t,n){return e.call(t)===`[object ${n}]`}(t,"Object")}function r(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function s(t){return t&&t.Math==Math?t:void 0}const o="object"==typeof globalThis&&s(globalThis)||"object"==typeof window&&s(window)||"object"==typeof self&&s(self)||"object"==typeof global&&s(global)||function(){return this}()||{};function c(t,n,e){const i=e||o,r=i.__SENTRY__=i.__SENTRY__||{};return r[t]||(r[t]=n())}const a=["debug","info","warn","error","log","assert","trace"],u={};function h(t){if(!("console"in o))return t();const n=o.console,e={},i=Object.keys(u);i.forEach((t=>{const i=u[t];e[t]=n[t],n[t]=i}));try{return t()}finally{i.forEach((t=>{n[t]=e[t]}))}}const f=function(){let t=!1;const n={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return a.forEach((e=>{n[e]=(...n)=>{t&&h((()=>{o.console[e](`Sentry Logger [${e}]:`,...n)}))}})),n}();function l(t){return d(t,new Map)}function d(t,n){if(function(t){if(!i(t))return!1;try{const n=Object.getPrototypeOf(t).constructor.name;return!n||"Object"===n}catch(t){return!0}}(t)){const e=n.get(t);if(void 0!==e)return e;const i={};n.set(t,i);for(const e of Object.keys(t))void 0!==t[e]&&(i[e]=d(t[e],n));return i}if(Array.isArray(t)){const e=n.get(t);if(void 0!==e)return e;const i=[];return n.set(t,i),t.forEach((t=>{i.push(d(t,n))})),i}return t}function p(){const t=o,n=t.crypto||t.msCrypto;let e=()=>16*Math.random();try{if(n&&n.randomUUID)return n.randomUUID().replace(/-/g,"");n&&n.getRandomValues&&(e=()=>{const t=new Uint8Array(1);return n.getRandomValues(t),t[0]})}catch(t){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(t=>(t^(15&e())>>t/4).toString(16)))}var g;!function(t){t[t.PENDING=0]="PENDING";t[t.RESOLVED=1]="RESOLVED";t[t.REJECTED=2]="REJECTED"}(g||(g={}));class m{constructor(t){m.prototype.__init.call(this),m.prototype.__init2.call(this),m.prototype.__init3.call(this),m.prototype.__init4.call(this),this.t=g.PENDING,this.i=[];try{t(this.o,this.u)}catch(t){this.u(t)}}then(t,n){return new m(((e,i)=>{this.i.push([!1,n=>{if(t)try{e(t(n))}catch(t){i(t)}else e(n)},t=>{if(n)try{e(n(t))}catch(t){i(t)}else i(t)}]),this.h()}))}catch(t){return this.then((t=>t),t)}finally(t){return new m(((n,e)=>{let i,r;return this.then((n=>{r=!1,i=n,t&&t()}),(n=>{r=!0,i=n,t&&t()})).then((()=>{r?e(i):n(i)}))}))}__init(){this.o=t=>{this.l(g.RESOLVED,t)}}__init2(){this.u=t=>{this.l(g.REJECTED,t)}}__init3(){this.l=(t,n)=>{this.t===g.PENDING&&(r(n)?n.then(this.o,this.u):(this.t=t,this.p=n,this.h()))}}__init4(){this.h=()=>{if(this.t===g.PENDING)return;const t=this.i.slice();this.i=[],t.forEach((t=>{t[0]||(this.t===g.RESOLVED&&t[1](this.p),this.t===g.REJECTED&&t[2](this.p),t[0]=!0)}))}}}function b(){return Date.now()/1e3}const v=function(){const{performance:t}=o;if(!t||!t.now)return b;const n=Date.now()-t.now(),e=null==t.timeOrigin?n:t.timeOrigin;return()=>(e+t.now())/1e3}(),y=(()=>{const{performance:t}=o;if(!t||!t.now)return;const n=36e5,e=t.now(),i=Date.now(),r=t.timeOrigin?Math.abs(t.timeOrigin+e-i):n,s=r<n,c=t.timing&&t.timing.navigationStart,a="number"==typeof c?Math.abs(c+e-i):n;return s||a<n?r<=a?t.timeOrigin:c:i})();const _="production";function w(t,n,e,i=0){return new m(((s,o)=>{const c=t[i];if(null===n||"function"!=typeof c)s(n);else{const a=c({...n},e);c.id&&null===a&&f.log(`Event processor "${c.id}" dropped event`),r(a)?a.then((n=>w(t,n,e,i+1).then(s))).then(null,o):w(t,a,e,i+1).then(s).then(null,o)}}))}function x(t){const n=v(),e={sid:p(),init:!0,timestamp:n,started:n,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(t){return l({sid:`${t.sid}`,init:t.init,started:new Date(1e3*t.started).toISOString(),timestamp:new Date(1e3*t.timestamp).toISOString(),status:t.status,errors:t.errors,did:"number"==typeof t.did||"string"==typeof t.did?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}(e)};return t&&P(e,t),e}function P(t,n={}){if(n.user&&(!t.ipAddress&&n.user.ip_address&&(t.ipAddress=n.user.ip_address),t.did||n.did||(t.did=n.user.id||n.user.email||n.user.username)),t.timestamp=n.timestamp||v(),n.abnormal_mechanism&&(t.abnormal_mechanism=n.abnormal_mechanism),n.ignoreDuration&&(t.ignoreDuration=n.ignoreDuration),n.sid&&(t.sid=32===n.sid.length?n.sid:p()),void 0!==n.init&&(t.init=n.init),!t.did&&n.did&&(t.did=`${n.did}`),"number"==typeof n.started&&(t.started=n.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof n.duration)t.duration=n.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}n.release&&(t.release=n.release),n.environment&&(t.environment=n.environment),!t.ipAddress&&n.ipAddress&&(t.ipAddress=n.ipAddress),!t.userAgent&&n.userAgent&&(t.userAgent=n.userAgent),"number"==typeof n.errors&&(t.errors=n.errors),n.status&&(t.status=n.status)}function E(t){const{spanId:n,traceId:e}=t.spanContext(),{data:i,op:r,parent_span_id:s,status:o,tags:c,origin:a}=S(t);return l({data:i,op:r,parent_span_id:s,span_id:n,status:o,tags:c,trace_id:e,origin:a})}function S(t){return function(t){return"function"==typeof t.getSpanJSON}(t)?t.getSpanJSON():"function"==typeof t.toJSON?t.toJSON():{}}function D(){return L().getClient()}function j(){return L().getScope()}function T(t){return t.transaction}function $(t){const n=D();if(!n)return{};const e=function(t,n,e){const i=n.getOptions(),{publicKey:r}=n.getDsn()||{},{segment:s}=e&&e.getUser()||{},o=l({environment:i.environment||_,release:i.release,user_segment:s,public_key:r,trace_id:t});return n.emit&&n.emit("createDsc",o),o}(S(t).trace_id||"",n,j()),i=T(t);if(!i)return e;const r=i&&i._frozenDynamicSamplingContext;if(r)return r;const{sampleRate:s,source:o}=i.metadata;null!=s&&(e.sample_rate=`${s}`);const c=S(i);return o&&"url"!==o&&(e.transaction=c.description),e.sampled=String(function(t){const{traceFlags:n}=t.spanContext();return Boolean(1&n)}(i)),n.emit&&n.emit("createDsc",e),e}function O(t,n){const{fingerprint:e,span:i,breadcrumbs:r,sdkProcessingMetadata:s}=n;!function(t,n){const{extra:e,tags:i,user:r,contexts:s,level:o,transactionName:c}=n,a=l(e);a&&Object.keys(a).length&&(t.extra={...a,...t.extra});const u=l(i);u&&Object.keys(u).length&&(t.tags={...u,...t.tags});const h=l(r);h&&Object.keys(h).length&&(t.user={...h,...t.user});const f=l(s);f&&Object.keys(f).length&&(t.contexts={...f,...t.contexts});o&&(t.level=o);c&&(t.transaction=c)}(t,n),i&&function(t,n){t.contexts={trace:E(n),...t.contexts};const e=T(n);if(e){t.sdkProcessingMetadata={dynamicSamplingContext:$(n),...t.sdkProcessingMetadata};const i=S(e).description;i&&(t.tags={transaction:i,...t.tags})}}(t,i),function(t,n){t.fingerprint=t.fingerprint?function(t){return Array.isArray(t)?t:[t]}(t.fingerprint):[],n&&(t.fingerprint=t.fingerprint.concat(n));t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}(t,e),function(t,n){const e=[...t.breadcrumbs||[],...n];t.breadcrumbs=e.length?e:void 0}(t,r),function(t,n){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...n}}(t,s)}class C{constructor(){this.g=!1,this.m=[],this.v=[],this._=[],this.P=[],this.S={},this.D={},this.j={},this.T={},this.$={},this.O=M()}static clone(t){return t?t.clone():new C}clone(){const t=new C;return t._=[...this._],t.D={...this.D},t.j={...this.j},t.T={...this.T},t.S=this.S,t.C=this.C,t.M=this.M,t.k=this.k,t.N=this.N,t.I=this.I,t.v=[...this.v],t.B=this.B,t.P=[...this.P],t.$={...this.$},t.O={...this.O},t.A=this.A,t}setClient(t){this.A=t}getClient(){return this.A}addScopeListener(t){this.m.push(t)}addEventProcessor(t){return this.v.push(t),this}setUser(t){return this.S=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this.k&&P(this.k,{user:t}),this.L(),this}getUser(){return this.S}getRequestSession(){return this.B}setRequestSession(t){return this.B=t,this}setTags(t){return this.D={...this.D,...t},this.L(),this}setTag(t,n){return this.D={...this.D,[t]:n},this.L(),this}setExtras(t){return this.j={...this.j,...t},this.L(),this}setExtra(t,n){return this.j={...this.j,[t]:n},this.L(),this}setFingerprint(t){return this.I=t,this.L(),this}setLevel(t){return this.C=t,this.L(),this}setTransactionName(t){return this.N=t,this.L(),this}setContext(t,n){return null===n?delete this.T[t]:this.T[t]=n,this.L(),this}setSpan(t){return this.M=t,this.L(),this}getSpan(){return this.M}getTransaction(){const t=this.M;return t&&t.transaction}setSession(t){return t?this.k=t:delete this.k,this.L(),this}getSession(){return this.k}update(t){if(!t)return this;const n="function"==typeof t?t(this):t;if(n instanceof C){const t=n.getScopeData();this.D={...this.D,...t.tags},this.j={...this.j,...t.extra},this.T={...this.T,...t.contexts},t.user&&Object.keys(t.user).length&&(this.S=t.user),t.level&&(this.C=t.level),t.fingerprint.length&&(this.I=t.fingerprint),n.getRequestSession()&&(this.B=n.getRequestSession()),t.propagationContext&&(this.O=t.propagationContext)}else if(i(n)){const n=t;this.D={...this.D,...n.tags},this.j={...this.j,...n.extra},this.T={...this.T,...n.contexts},n.user&&(this.S=n.user),n.level&&(this.C=n.level),n.fingerprint&&(this.I=n.fingerprint),n.requestSession&&(this.B=n.requestSession),n.propagationContext&&(this.O=n.propagationContext)}return this}clear(){return this._=[],this.D={},this.j={},this.S={},this.T={},this.C=void 0,this.N=void 0,this.I=void 0,this.B=void 0,this.M=void 0,this.k=void 0,this.L(),this.P=[],this.O=M(),this}addBreadcrumb(t,n){const e="number"==typeof n?n:100;if(e<=0)return this;const i={timestamp:b(),...t},r=this._;return r.push(i),this._=r.length>e?r.slice(-e):r,this.L(),this}getLastBreadcrumb(){return this._[this._.length-1]}clearBreadcrumbs(){return this._=[],this.L(),this}addAttachment(t){return this.P.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this.P=[],this}getScopeData(){const{_:t,P:n,T:e,D:i,j:r,S:s,C:o,I:c,v:a,O:u,$:h,N:f,M:l}=this;return{breadcrumbs:t,attachments:n,contexts:e,tags:i,extra:r,user:s,level:o,fingerprint:c||[],eventProcessors:a,propagationContext:u,sdkProcessingMetadata:h,transactionName:f,span:l}}applyToEvent(t,n={},e=[]){O(t,this.getScopeData());return w([...e,...c("globalEventProcessors",(()=>[])),...this.v],t,n)}setSDKProcessingMetadata(t){return this.$={...this.$,...t},this}setPropagationContext(t){return this.O=t,this}getPropagationContext(){return this.O}captureException(t,n){const e=n&&n.event_id?n.event_id:p();if(!this.A)return f.warn("No client configured on scope - will not capture exception!"),e;const i=new Error("Sentry syntheticException");return this.A.captureException(t,{originalException:t,syntheticException:i,...n,event_id:e},this),e}captureMessage(t,n,e){const i=e&&e.event_id?e.event_id:p();if(!this.A)return f.warn("No client configured on scope - will not capture message!"),i;const r=new Error(t);return this.A.captureMessage(t,n,{originalException:t,syntheticException:r,...e,event_id:i},this),i}captureEvent(t,n){const e=n&&n.event_id?n.event_id:p();return this.A?(this.A.captureEvent(t,{...n,event_id:e},this),e):(f.warn("No client configured on scope - will not capture event!"),e)}L(){this.g||(this.g=!0,this.m.forEach((t=>{t(this)})),this.g=!1)}}function M(){return{traceId:p(),spanId:p().substring(16)}}const k=parseFloat("7.119.2"),N=100;class I{constructor(t,n,e,i=k){let r,s;this.R=i,n?r=n:(r=new C,r.setClient(t)),e?s=e:(s=new C,s.setClient(t)),this.U=[{scope:r}],t&&this.bindClient(t),this.F=s}isOlderThan(t){return this.R<t}bindClient(t){const n=this.getStackTop();n.client=t,n.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(t){const n=this.pushScope();let e;try{e=t(n)}catch(t){throw this.popScope(),t}return r(e)?e.then((t=>(this.popScope(),t)),(t=>{throw this.popScope(),t})):(this.popScope(),e)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this.F}getStack(){return this.U}getStackTop(){return this.U[this.U.length-1]}captureException(t,n){const e=this.G=n&&n.event_id?n.event_id:p(),i=new Error("Sentry syntheticException");return this.getScope().captureException(t,{originalException:t,syntheticException:i,...n,event_id:e}),e}captureMessage(t,n,e){const i=this.G=e&&e.event_id?e.event_id:p(),r=new Error(t);return this.getScope().captureMessage(t,n,{originalException:t,syntheticException:r,...e,event_id:i}),i}captureEvent(t,n){const e=n&&n.event_id?n.event_id:p();return t.type||(this.G=e),this.getScope().captureEvent(t,{...n,event_id:e}),e}lastEventId(){return this.G}addBreadcrumb(t,n){const{scope:e,client:i}=this.getStackTop();if(!i)return;const{beforeBreadcrumb:r=null,maxBreadcrumbs:s=N}=i.getOptions&&i.getOptions()||{};if(s<=0)return;const o={timestamp:b(),...t},c=r?h((()=>r(o,n))):o;null!==c&&(i.emit&&i.emit("beforeAddBreadcrumb",c,n),e.addBreadcrumb(c,s))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,n){this.getScope().setTag(t,n),this.getIsolationScope().setTag(t,n)}setExtra(t,n){this.getScope().setExtra(t,n),this.getIsolationScope().setExtra(t,n)}setContext(t,n){this.getScope().setContext(t,n),this.getIsolationScope().setContext(t,n)}configureScope(t){const{scope:n,client:e}=this.getStackTop();e&&t(n)}run(t){const n=A(this);try{t(this)}finally{A(n)}}getIntegration(t){const n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch(n){return f.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){const e=this.H("startTransaction",t,n);if(!e){this.getClient()?f.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):f.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return e}traceHeaders(){return this.H("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this.J()}endSession(){const t=this.getStackTop().scope,n=t.getSession();n&&function(t,n){let e={};n?e={status:n}:"ok"===t.status&&(e={status:"exited"}),P(t,e)}(n),this.J(),t.setSession()}startSession(t){const{scope:n,client:e}=this.getStackTop(),{release:i,environment:r=_}=e&&e.getOptions()||{},{userAgent:s}=o.navigator||{},c=x({release:i,environment:r,user:n.getUser(),...s&&{userAgent:s},...t}),a=n.getSession&&n.getSession();return a&&"ok"===a.status&&P(a,{status:"exited"}),this.endSession(),n.setSession(c),c}shouldSendDefaultPii(){const t=this.getClient(),n=t&&t.getOptions();return Boolean(n&&n.sendDefaultPii)}J(){const{scope:t,client:n}=this.getStackTop(),e=t.getSession();e&&n&&n.captureSession&&n.captureSession(e)}H(t,...n){const e=B().__SENTRY__;if(e&&e.extensions&&"function"==typeof e.extensions[t])return e.extensions[t].apply(this,n);f.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function B(){return o.__SENTRY__=o.__SENTRY__||{extensions:{},hub:void 0},o}function A(t){const n=B(),e=R(n);return U(n,t),e}function L(){const t=B();if(t.__SENTRY__&&t.__SENTRY__.acs){const n=t.__SENTRY__.acs.getCurrentHub();if(n)return n}return function(t=B()){n=t,n&&n.__SENTRY__&&n.__SENTRY__.hub&&!R(t).isOlderThan(k)||U(t,new I);var n;return R(t)}(t)}function R(t){return c("hub",(()=>new I),t)}function U(t,n){if(!t)return!1;return(t.__SENTRY__=t.__SENTRY__||{}).hub=n,!0}const F=o,G=1e6,H=String(0),J="main";let V="",K="",q="",z=F.navigator&&F.navigator.userAgent||"",W="";const Y=F.navigator&&F.navigator.language||F.navigator&&F.navigator.languages&&F.navigator.languages[0]||"";const Q=F.navigator&&F.navigator.userAgentData;var X;function Z(t){return function(t){return!("thread_metadata"in t)}(t)?function(t){let n,e=0;const i={samples:[],stacks:[],frames:[],thread_metadata:{[H]:{name:J}}};if(!t.samples.length)return i;const r=t.samples[0].timestamp,s="number"==typeof performance.timeOrigin?performance.timeOrigin:y||0,o=s-(y||s);for(let s=0;s<t.samples.length;s++){const c=t.samples[s];if(void 0===c.stackId){void 0===n&&(n=e,i.stacks[n]=[],e++),i.samples[s]={elapsed_since_start_ns:((c.timestamp+o-r)*G).toFixed(0),stack_id:n,thread_id:H};continue}let a=t.stacks[c.stackId];const u=[];for(;a;){u.push(a.frameId);const n=t.frames[a.frameId];void 0===i.frames[a.frameId]&&(i.frames[a.frameId]={function:n.name,abs_path:"number"==typeof n.resourceId?t.resources[n.resourceId]:void 0,lineno:n.line,colno:n.column}),a=void 0===a.parentId?void 0:t.stacks[a.parentId]}const h={elapsed_since_start_ns:((c.timestamp+o-r)*G).toFixed(0),stack_id:e,thread_id:H};i.stacks[e]=u,i.samples[s]=h,e++}return i}(t):t}function tt(t,n,e,i){if("transaction"!==i.type)throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(null==e)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${e} instead.`);const r=function(t){const n=t&&t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id;return"string"==typeof n&&32!==n.length&&f.log(`[Profiling] Invalid traceId: ${n} on profiled event`),"string"!=typeof n?"":n}(i),s=Z(e),o=n||("number"==typeof i.start_timestamp?1e3*i.start_timestamp:Date.now()),c="number"==typeof i.timestamp?1e3*i.timestamp:Date.now();return{event_id:t,timestamp:new Date(o).toISOString(),platform:"javascript",version:"1",release:i.release||"",environment:i.environment||_,runtime:{name:"javascript",version:F.navigator.userAgent},os:{name:V,version:K,build_number:z},device:{locale:Y,model:W,manufacturer:z,architecture:q,is_emulator:!1},debug_meta:{images:it(e.resources)},profile:s,transactions:[{name:i.transaction||"",id:i.event_id||p(),trace_id:r,active_thread_id:H,relative_start_ns:"0",relative_end_ns:(1e6*(c-o)).toFixed(0)}]}}function nt(t){return"pageload"===t.op}"object"==typeof(X=Q)&&null!==X&&"getHighEntropyValues"in X&&Q.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then((t=>{if(V=t.platform||"",q=t.architecture||"",W=t.model||"",K=t.platformVersion||"",t.fullVersionList&&t.fullVersionList.length>0){const n=t.fullVersionList[t.fullVersionList.length-1];z=`${n.brand} ${n.version}`}})).catch((t=>{}));const et=new WeakMap;function it(t){const n=o._sentryDebugIds;if(!n)return[];const e=D(),i=e&&e.getOptions(),r=i&&i.stackParser;if(!r)return[];let s;const c=et.get(r);c?s=c:(s=new Map,et.set(r,s));const a=Object.keys(n).reduce(((t,e)=>{let i;const o=s.get(e);o?i=o:(i=r(e),s.set(e,i));for(let r=i.length-1;r>=0;r--){const s=i[r],o=s&&s.filename;if(s&&o){t[o]=n[e];break}}return t}),{}),u=[];for(const n of t)n&&a[n]&&u.push({type:"sourcemap",code_file:n,debug_id:a[n]});return u}let rt=!1;function st(t){if(rt)return f.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!t.isRecording())return f.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const n=D(),e=n&&n.getOptions();if(!e)return f.log("[Profiling] Profiling disabled, no options found."),!1;const i=e.profilesSampleRate;if(!("number"!=typeof(r=i)&&"boolean"!=typeof r||"number"==typeof r&&isNaN(r)?(f.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(r)} of type ${JSON.stringify(typeof r)}.`),0):!0===r||!1===r||!(r<0||r>1)||(f.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${r}.`),0)))return f.warn("[Profiling] Discarding profile because of invalid sample rate."),!1;var r;if(!i)return f.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1;return!!(!0===i||Math.random()<i)||(f.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(i)})`),!1)}function ot(t,n,e,i){return function(t){return t.samples.length<2?(f.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):!!t.frames.length||(f.log("[Profiling] Discarding profile because it contains no frames"),!1)}(e)?tt(t,n,e,i):null}const ct=new Map;function at(t){const n=ct.get(t);return n&&ct.delete(t),n}function ut(t){let n;nt(t)&&(n=1e3*v());const e=function(){const t=F.Profiler;if("function"!=typeof t)return void f.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");const n=Math.floor(3e3);try{return new t({sampleInterval:10,maxBufferSize:n})}catch(t){f.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),f.log("[Profiling] Disabling profiling for current user session."),rt=!0}}();if(!e)return t;f.log(`[Profiling] started profiling transaction: ${S(t).description}`);const i=p();async function r(){return t&&e?e.stop().then((n=>(s&&(F.clearTimeout(s),s=void 0),f.log(`[Profiling] stopped profiling of transaction: ${S(t).description}`),n?(function(t,n){if(ct.set(t,n),ct.size>30){const t=ct.keys().next().value;ct.delete(t)}}(i,n),null):(f.log(`[Profiling] profiler returned null profile for: ${S(t).description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null)))).catch((t=>(f.log("[Profiling] error while stopping profiler:",t),null))):null}let s=F.setTimeout((()=>{f.log("[Profiling] max profile duration elapsed, stopping profiling for:",S(t).description),r()}),3e4);const o=t.end.bind(t);return t.end=function(){return t?(r().then((()=>{t.setContext("profile",{profile_id:i,start_timestamp:n}),o()}),(()=>{o()})),t):o()},t}const ht="BrowserProfiling",ft=()=>({name:ht,setupOnce(){},setup(t){const n=j().getTransaction();n&&nt(n)&&st(n)&&ut(n),"function"==typeof t.on?(t.on("startTransaction",(t=>{st(t)&&ut(t)})),t.on("beforeEnvelope",(t=>{if(!ct.size)return;const n=function(t){const n=[];return function(t,n){const e=t[1];for(const t of e)if(n(t,t[0].type))return!0}(t,((t,e)=>{if("transaction"===e)for(let e=1;e<t.length;e++){const i=t[e];i&&i.contexts&&i.contexts.profile&&i.contexts.profile.profile_id&&n.push(t[e])}})),n}(t);if(!n.length)return;const e=[];for(const t of n){const n=t&&t.contexts,i=n&&n.profile&&n.profile.profile_id,r=n&&n.profile&&n.profile.start_timestamp;if("string"!=typeof i){f.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!i){f.log("[Profiling] cannot find profile for a transaction without a profile context");continue}n&&n.profile&&delete n.profile;const s=at(i);if(!s){f.log(`[Profiling] Could not retrieve profile for transaction: ${i}`);continue}const o=ot(i,r,s,t);o&&e.push(o)}!function(t,n){if(!n.length)return t;for(const e of n)t[1].push([{type:"profile"},e])}(t,e)}))):f.warn("[Profiling] Client does not support hooks, profiling will be disabled")}}),lt=(dt=ht,pt=ft,Object.assign((function(...t){return pt(...t)}),{id:dt}));var dt,pt;for(var gt in n.BrowserProfilingIntegration=lt,n.browserProfilingIntegration=ft,t.Sentry=t.Sentry||{},t.Sentry.Integrations=t.Sentry.Integrations||{},n)Object.prototype.hasOwnProperty.call(n,gt)&&(t.Sentry.Integrations[gt]=n[gt],t.Sentry[gt]=n[gt])}(window);
//# sourceMappingURL=browserprofiling.debug.min.js.map
